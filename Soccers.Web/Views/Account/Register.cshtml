@model Soccers.Web.Models.AddUserViewModel

@{ ViewData["Title"] = "Register"; }

<h2>Register</h2>

<h4>User</h4>
<hr />
<div class="row">
    <div class="col-md-4 offset-md-4">
        <form asp-action="Register" enctype="multipart/form-data" onsubmit="return ShowProgress();">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>

            <div class="form-group">
                <label asp-for="Username" class="control-label"></label>
                <input asp-for="Username" class="form-control" style="float: left;text-align: center;border-radius: 60px;" placeholder="User Name"/>
                <span asp-validation-for="Username" class="text-danger"></span>
            </div>

            <partial name="_User" />

            <div class="form-group">
                <label asp-for="Password" class="control-label"></label>
                <input asp-for="Password" class="form-control" style="float: left;text-align: center;border-radius: 60px;" placeholder="Password"/>
                <span asp-validation-for="Password" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="PasswordConfirm" class="control-label"></label>
                <input asp-for="PasswordConfirm" class="form-control" style="float: left;text-align: center;border-radius: 60px;" placeholder="Confirm Password"/>
                <span asp-validation-for="PasswordConfirm" class="text-danger"></span>
            </div>
            <hr />
            <div class="form-group">
                <input type="submit" value="Register" id="submitButton" class="btn btn-outline-primary" style="border-radius: 60px;" />
            </div>
        </form>
    </div>
</div>
<div class="loading" align="center">
    Loading. Please wait.<br />
    <br />
    <img src="loader.gif" alt="" />
</div>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
<script type="text/javascript">
    function ShowProgress() {
        setTimeout(function () {
            var modal = $('<div />');
            modal.addClass("modal");
            $('body').append(modal);
            var loading = $(".loading");
            loading.show();
            var top = Math.max($(window).height() / 2 - loading[0].offsetHeight / 2, 0);
            var left = Math.max($(window).width() / 2 - loading[0].offsetWidth / 2, 0);
            loading.css({ top: top, left: left });
        }, 200);
    }
    $('form').live("submit", function () {
        ShowProgress();
    });
</script>
}

<style type="text/css">
    .modal {
        position: fixed;
        top: 0;
        left: 0;
        background-color: black;
        z-index: 99;
        opacity: 0.8;
        filter: alpha(opacity=80);
        -moz-opacity: 0.8;
        min-height: 100%;
        width: 100%;
    }

    .loading {
        font-family: Arial;
        font-size: 10pt;
        border: 5px solid #67CFF5;
        width: 200px;
        height: 100px;
        display: none;
        position: fixed;
        background-color: White;
        z-index: 999;
    }
</style>